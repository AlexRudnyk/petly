"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[91],{8437:function(e,r,t){t.r(r),t.d(r,{default:function(){return F}});var n=t(5861),s=t(9439),o=t(4687),a=t.n(o),i=t(2791),l=t(9434),c=t(5705),u=t(9230),d=t(1898),h=t(5218),p=t(9273),m=t(319),x=t(3682),j=t(6727),f=j.Ry().shape({email:j.Z_().matches(/^(?=.{1,63}$)(?=.{2,}@)[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,d.Z.t("email_match")).min(5,d.Z.t("at_least_five")).required(d.Z.t("required_field")),password:j.Z_().matches(/^\S+$/,d.Z.t("no_space")).min(7,d.Z.t("at_least_seven")).max(32,d.Z.t("max_tt")).required(d.Z.t("required_field")),confirm:j.Z_().oneOf([j.iH("password"),null],d.Z.t("Passwords_match")).required(d.Z.t("required_field"))}),Z=j.Ry().shape({name:j.Z_().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490]+(?: [a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490]+)*$/,d.Z.t("Only_cyrillic_latin")).required(d.Z.t("required_field")),city:j.Z_().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490]+(?:[-\s]?[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490]+)*,\s*[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490'\u2019\s-]+$/,"Should_City").required(d.Z.t("required_field"))}),y=t(3037),v=t(3997),g=t(1604),_=t(9001),w=t(3329),b=function(e){var r=(0,i.useState)(!1),t=(0,s.Z)(r,2),n=t[0],o=t[1],a=(0,i.useState)(!1),l=(0,s.Z)(a,2),c=l[0],d=l[1],h=(0,u.$G)().t;return console.log(e.isValid),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(g.ZP,{type:"email",name:"email",placeholder:h("Email"),errors:e.errors,touched:e.touched,values:e.values.email,required:!0,autoFocus:!0}),(0,w.jsx)(g.jj,{name:"email",component:"div"}),(0,w.jsxs)(v.ZC,{children:[(0,w.jsx)(g.ZP,{id:"password",name:"password",placeholder:h("Password"),type:n?"text":"password",errors:e.errors,touched:e.touched,values:e.values.password,required:!0}),(0,w.jsx)(v.yS,{type:"button",onClick:function(){o(!n)},children:n?(0,w.jsx)(v.rr,{}):(0,w.jsx)(v.OF,{})}),(0,w.jsx)(g.jj,{name:"password",component:"div"})]}),(0,w.jsxs)(v.ZC,{children:[(0,w.jsx)(g.ZP,{id:"confirm",type:c?"text":"password",name:"confirm",placeholder:h("Confirm_Password"),errors:e.errors,touched:e.touched,values:e.values.confirm,required:!0}),(0,w.jsx)(v.yS,{type:"button",onClick:function(){d(!c)},children:c?(0,w.jsx)(v.rr,{}):(0,w.jsx)(v.OF,{})}),(0,w.jsx)(g.jj,{name:"confirm",component:"div"})]}),(0,w.jsx)(g.zx,{type:"button",onClick:e.next,disabled:e.isValid,children:h("Next")}),(0,w.jsxs)(_.tw,{href:"https://petly-gd7x.onrender.com/api/users/google",children:[(0,w.jsx)(v.DW,{src:y.Z,alt:"Google"}),h("Signup_with_Google")]})]})},C=t(5737),k=t.n(C),q=(t(8404),{}),z=function(e){var r=(0,u.$G)().t;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(g.ZP,{type:"text",name:"name",placeholder:r("Name"),errors:e.errors,touched:e.touched,values:e.values.name,required:!0}),(0,w.jsx)(g.jj,{name:"name",component:"div"}),(0,w.jsx)(g.ZP,{type:"text",name:"city",placeholder:r("City_region"),errors:e.errors,touched:e.touched,values:e.values.city,required:!0}),(0,w.jsx)(g.jj,{name:"city",component:"div"}),(0,w.jsx)(k(),{name:"phone",type:"tel",className:q,onlyCountries:["ua"],country:"ua",countryCodeEditable:!1,errors:e.errors,value:e.values.phone,touched:e.touched,onChange:function(r){console.log("phone","+".concat(r)),e.setFieldValue("phone","+".concat(r))},onBlur:function(e){19!==e.currentTarget.value.length?e.currentTarget.style.border="1px solid #E2001A":e.currentTarget.style.border="1px solid #3CBC81"},onFocus:function(e){19!==e.currentTarget.value.length?e.currentTarget.style.border="1px solid #E2001A":e.currentTarget.style.border="1px solid #3CBC81"}}),(0,w.jsx)(g.jj,{name:"phone",component:"div"}),(0,w.jsx)(g.zx,{type:"submit",children:r("Register")}),(0,w.jsx)(g.zx,{type:"button",onClick:e.back,children:r("Back")})]})},A=t(9887),S={email:"",password:"",confirm:"",name:"",city:"",phone:""},F=function(){var e=(0,i.useState)(0),r=(0,s.Z)(e,2),t=r[0],o=r[1],j=(0,u.$G)().t,y=(0,l.I0)(),v=function(){o(t+1)},_=function(){o(t-1)},C=function(){var e=(0,n.Z)(a().mark((function e(r,t){var n,s,o,i,l,c,u,m;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.email,s=r.password,o=r.name,i=r.city,l=r.phone,c=t.resetForm,13===l.length){e.next=6;break}return console.log("INVALID"),h.ZP.error(d.Z.t("Enter_phone")),e.abrupt("return");case 6:return e.next=8,y((0,p.IU)({email:n,password:s,name:o,city:i,phone:l}));case 8:if("auth/signup/fulfilled"!==(u=e.sent).type){e.next=15;break}return console.log("resultSignup",u),e.next=13,y((0,p.Ib)({email:n,password:s}));case 13:m=e.sent,console.log("resultLogIn",m);case 15:c();case 16:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}();return(0,w.jsx)(x.x,{as:"section",children:(0,w.jsx)(g.lY,{children:(0,w.jsx)(m.W,{children:(0,w.jsxs)(g.bh,{children:[(0,w.jsx)(g.zD,{children:j("Registration")}),(0,w.jsx)(c.J9,{initialValues:S,onSubmit:C,validationSchema:0===t?f:Z,children:function(e){var r=e.errors,n=e.touched,s=e.isValid,o=e.setFieldValue,a=e.values;return(0,w.jsxs)(g.gR,{autoComplete:"off",children:[0===t&&(0,w.jsx)(b,{next:v,errors:r,touched:n,isValid:!s,values:a}),1===t&&(0,w.jsx)(z,{back:_,errors:r,touched:n,values:a,setFieldValue:o})]})}}),(0,w.jsx)(A.Z,{link:"/login",question:j("Is_account"),pageName:j("Log_in")})]})})})})}}}]);
//# sourceMappingURL=91.2ac0b728.chunk.js.map