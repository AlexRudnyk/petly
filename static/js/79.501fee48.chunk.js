"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[79],{6079:function(e,r,s){s.r(r),s.d(r,{default:function(){return z}});var n=s(5861),a=s(9439),o=s(4687),t=s.n(o),i=s(2791),l=s(9434),c=s(5705),u=s(9230),d=s(9273),m=s(319),h=s(3682),p=s(6727),x=p.Ry().shape({email:p.Z_().matches(/^(?=.{1,63}$)(?=.{2,}@)[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"Error! Email must be in a format: aaaaa@aaa.aaa").min(12,"At least 12 symbols").max(50,"Maximum 50 symbols").required("Required field"),password:p.Z_().matches(/^\S+$/,"Space is not allowed").min(7,"At least 7 symbols").max(32,"Maximum 32 symbols").required("Required field"),confirm:p.Z_().oneOf([p.iH("password"),null],"Passwords must match").required("Required field")}),j=p.Ry().shape({name:p.Z_().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490]+(?: [a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490]+)*$/,"Only cyrillic and latin letters are allowed").required("Required field"),city:p.Z_().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490]+(?:[-\s]?[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490]+)*,\s*[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490'\u2019\s-]+$/,'Should be "City, Region" separated by comma, only letters can be accepted').required("Required field "),phone:p.Z_().matches(/^\+380\d{9}$/,"Invalid phone number(+380111111111)").min(13).max(13).required("Required field")}),f=s(3037),y=s(3997),v=s(1604),Z=s(9001),g=s(3329),w=function(e){var r=(0,i.useState)(!1),s=(0,a.Z)(r,2),n=s[0],o=s[1],t=(0,i.useState)(!1),l=(0,a.Z)(t,2),c=l[0],d=l[1],m=(0,u.$G)().t;return console.log(e.isValid),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(v.ZP,{type:"email",name:"email",placeholder:"Email",errors:e.errors,touched:e.touched,values:e.values.email,required:!0,autoFocus:!0}),(0,g.jsx)(v.jj,{name:"email",component:"div"}),(0,g.jsxs)(y.ZC,{children:[(0,g.jsx)(v.ZP,{id:"password",name:"password",placeholder:m("Password"),type:n?"text":"password",errors:e.errors,touched:e.touched,values:e.values.password,required:!0}),(0,g.jsx)(y.yS,{type:"button",onClick:function(){o(!n)},children:n?(0,g.jsx)(y.rr,{}):(0,g.jsx)(y.OF,{})}),(0,g.jsx)(v.jj,{name:"password",component:"div"})]}),(0,g.jsxs)(y.ZC,{children:[(0,g.jsx)(v.ZP,{id:"confirm",type:c?"text":"password",name:"confirm",placeholder:"Confirm Password",errors:e.errors,touched:e.touched,values:e.values.confirm,required:!0}),(0,g.jsx)(y.yS,{type:"button",onClick:function(){d(!c)},children:c?(0,g.jsx)(y.rr,{}):(0,g.jsx)(y.OF,{})}),(0,g.jsx)(v.jj,{name:"confirm",component:"div"})]}),(0,g.jsx)(v.zx,{type:"button",onClick:e.next,disabled:e.isValid,children:"Next"}),(0,g.jsxs)(Z.tw,{href:"https://petly-gd7x.onrender.com/api/users/google",children:[(0,g.jsx)(y.DW,{src:f.Z,alt:"Google"}),m("Signup_with_Google")]})]})},b=s(5737),q=s.n(b),k=(s(8404),function(e){return console.log(e.values.city),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(v.ZP,{type:"text",name:"name",placeholder:"Name",errors:e.errors,touched:e.touched,values:e.values.name,required:!0}),(0,g.jsx)(v.jj,{name:"name",component:"div"}),(0,g.jsx)(v.ZP,{type:"text",name:"city",placeholder:"City, region",errors:e.errors,touched:e.touched,values:e.values.city,required:!0}),(0,g.jsx)(v.jj,{name:"city",component:"div"}),(0,g.jsx)(q(),{name:"phone",onlyCountries:["ua"],country:"ua",value:e.values.phone,onChange:function(r){console.log("phone","+".concat(r)),console.log("phone",typeof r),e.setFieldValue("phone","+".concat(r))}}),(0,g.jsx)(v.jj,{name:"phone",component:"div"}),(0,g.jsx)(v.zx,{type:"submit",children:"Register"}),(0,g.jsx)(v.zx,{type:"button",onClick:e.back,children:"Back"})]})}),_=s(9887),C={email:"",password:"",confirm:"",name:"",city:"",phone:""},z=function(){var e=(0,i.useState)(0),r=(0,a.Z)(e,2),s=r[0],o=r[1],p=(0,u.$G)().t,f=(0,l.I0)(),y=function(){o(s+1)},Z=function(){o(s-1)},b=function(){var e=(0,n.Z)(t().mark((function e(r,s){var n,a,o,i,l,c,u,m;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.email,a=r.password,o=r.name,i=r.city,l=r.phone,c=s.resetForm,e.next=4,f((0,d.IU)({email:n,password:a,name:o,city:i,phone:l}));case 4:if("auth/signup/fulfilled"!==(u=e.sent).type){e.next=11;break}return console.log("resultSignup",u),e.next=9,f((0,d.Ib)({email:n,password:a}));case 9:m=e.sent,console.log("resultLogIn",m);case 11:c();case 12:case"end":return e.stop()}}),e)})));return function(r,s){return e.apply(this,arguments)}}();return(0,g.jsx)(h.x,{as:"section",children:(0,g.jsx)(v.lY,{children:(0,g.jsx)(m.W,{children:(0,g.jsxs)(v.bh,{children:[(0,g.jsx)(v.zD,{children:p("Registration")}),(0,g.jsx)(c.J9,{initialValues:C,onSubmit:b,validationSchema:0===s?x:j,children:function(e){var r=e.errors,n=e.touched,a=e.isValid,o=e.setFieldValue,t=e.values;return(0,g.jsxs)(v.gR,{autoComplete:"off",children:[0===s&&(0,g.jsx)(w,{next:y,errors:r,touched:n,isValid:!a,values:t}),1===s&&(0,g.jsx)(k,{back:Z,errors:r,touched:n,values:t,setFieldValue:o})]})}}),(0,g.jsx)(_.Z,{link:"/login",question:p("Is_account"),pageName:p("Log_in")})]})})})})}}}]);
//# sourceMappingURL=79.501fee48.chunk.js.map