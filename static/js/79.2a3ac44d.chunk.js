"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[79],{6079:function(e,r,n){n.r(r),n.d(r,{default:function(){return z}});var s=n(5861),t=n(9439),o=n(4687),a=n.n(o),i=n(2791),l=n(9434),c=n(5705),d=n(9230),u=n(9273),m=n(319),h=n(3682),p=n(6727),x=p.Ry().shape({email:p.Z_().matches(/^(?=.{1,63}$)(?=.{2,}@)[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"Error! Email must be in a format: aaaaa@aaa.aaa").min(12,"At least 12 symbols").max(50,"Maximum 50 symbols").required("Required field"),password:p.Z_().matches(/^\S+$/,"Space is not allowed").min(7,"At least 7 symbols").max(32,"Maximum 32 symbols").required("Required field"),confirm:p.Z_().oneOf([p.iH("password"),null],"Passwords must match").required("Required field")}),j=p.Ry().shape({name:p.Z_().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490]+(?: [a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490]+)*$/,"Only cyrillic and latin letters are allowed").required("Required field"),city:p.Z_().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490]+(?:[-\s]?[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490]+)*,\s*[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490'\u2019\s-]+$/,'Should be "City, Region" separated by comma, only letters can be accepted').required("Required field "),phone:p.Z_().matches(/^\+380\d{9}$/,"Invalid phone number(+380111111111)").min(13).max(13).required("Required field")}),f=n(3037),y=n(6179),Z=n(1604),g=n(9001),w=n(3329),b=function(e){var r=(0,i.useState)(!1),n=(0,t.Z)(r,2),s=n[0],o=n[1],a=(0,i.useState)(!1),l=(0,t.Z)(a,2),c=l[0],u=l[1],m=(0,d.$G)().t;return console.log(e.isValid),(0,w.jsxs)(w.Fragment,{children:["fix/register",(0,w.jsx)(Z.ZP,{type:"email",name:"email",placeholder:"Email",errors:e.errors,touched:e.touched,required:!0}),(0,w.jsx)(Z.jj,{name:"email",component:"div"}),(0,w.jsxs)(y.ZC,{children:[(0,w.jsx)(Z.ZP,{id:"password",name:"password",placeholder:m("Password"),type:s?"text":"password",errors:e.errors,touched:e.touched,required:!0}),(0,w.jsx)(y.yS,{type:"button",onClick:function(){o(!s)},children:s?(0,w.jsx)(y.rr,{}):(0,w.jsx)(y.OF,{})}),(0,w.jsx)(Z.jj,{name:"password",component:"div"})]}),(0,w.jsxs)(y.ZC,{children:[(0,w.jsx)(Z.ZP,{id:"confirm",type:c?"text":"password",name:"confirm",placeholder:"Confirm Password",errors:e.errors,touched:e.touched,required:!0}),(0,w.jsx)(y.yS,{type:"button",onClick:function(){u(!c)},children:c?(0,w.jsx)(y.rr,{}):(0,w.jsx)(y.OF,{})}),(0,w.jsx)(Z.jj,{name:"confirm",component:"div"})]}),(0,w.jsx)(Z.zx,{type:"submit",onClick:e.next,disabled:e.isValid,children:"Next"}),(0,w.jsxs)(g.tw,{href:"https://petly-gd7x.onrender.com/api/users/google",children:[(0,w.jsx)(y.DW,{src:f.Z,alt:"Google"}),m("Signup_with_Google")]})]})},v=n(5737),q=n.n(v),k=(n(8404),function(e){return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(Z.ZP,{type:"text",name:"name",placeholder:"Name",errors:e.errors,touched:e.touched,required:!0}),(0,w.jsx)(Z.jj,{name:"name",component:"div"}),(0,w.jsx)(Z.ZP,{type:"text",name:"city",placeholder:"City, region",errors:e.errors,touched:e.touched,required:!0}),(0,w.jsx)(Z.jj,{name:"city",component:"div"}),(0,w.jsx)(q(),{name:"phone",onlyCountries:["ua"],country:"ua",value:e.values.phone,onChange:function(r){console.log("phone","+".concat(r)),console.log("phone",typeof r),e.setFieldValue("phone","+".concat(r))}}),(0,w.jsx)(Z.jj,{name:"phone",component:"div"}),(0,w.jsx)(Z.zx,{type:"submit",children:"Register"}),(0,w.jsx)(Z.zx,{type:"button",onClick:e.back,children:"Back"})]})}),_=n(9887),C={email:"",password:"",confirm:"",name:"",city:"",phone:""},z=function(){var e=(0,i.useState)(0),r=(0,t.Z)(e,2),n=r[0],o=r[1],p=(0,d.$G)().t,f=(0,l.I0)(),y=function(){o(n+1)},g=function(){o(n-1)},v=function(){var e=(0,s.Z)(a().mark((function e(r,n){var s,t,o,i,l,c,d,m;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.email,t=r.password,o=r.name,i=r.city,l=r.phone,c=n.resetForm,e.next=4,f((0,u.IU)({email:s,password:t,name:o,city:i,phone:l}));case 4:if("auth/signup/fulfilled"!==(d=e.sent).type){e.next=11;break}return console.log("resultSignup",d),e.next=9,f((0,u.Ib)({email:s,password:t}));case 9:m=e.sent,console.log("resultLogIn",m);case 11:c();case 12:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}();return(0,w.jsx)(h.x,{as:"section",children:(0,w.jsx)(Z.lY,{children:(0,w.jsx)(m.W,{children:(0,w.jsxs)(Z.bh,{children:[(0,w.jsx)(Z.zD,{children:p("Registration")}),(0,w.jsx)(c.J9,{initialValues:C,onSubmit:v,validationSchema:0===n?x:j,children:function(e){var r=e.errors,s=e.touched,t=e.isValid,o=e.setFieldValue,a=e.values;return(0,w.jsxs)(Z.gR,{autoComplete:"off",children:[0===n&&(0,w.jsx)(b,{next:y,errors:r,touched:s,isValid:!t}),1===n&&(0,w.jsx)(k,{back:g,errors:r,touched:s,values:a.phone,setFieldValue:o})]})}}),(0,w.jsx)(_.Z,{link:"/login",question:p("Is_account"),pageName:p("Log_in")})]})})})})}}}]);
//# sourceMappingURL=79.2a3ac44d.chunk.js.map