"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[79],{6079:function(e,r,s){s.r(r),s.d(r,{default:function(){return _}});var t=s(5861),n=s(9439),o=s(4687),a=s.n(o),i=s(2791),c=s(9434),l=s(5705),d=s(9230),u=s(9273),m=s(319),h=s(3682),p=s(6727),x=p.Ry().shape({email:p.Z_().matches(/^(?=.{1,63}$)(?=.{2,}@)[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"Error! Email must be in a format: aaaaa@aaa.aaa").min(12,"At least 12 symbols").max(50,"Maximum 50 symbols").required("Required field"),password:p.Z_().matches(/^\S+$/,"Space is not allowed").min(7,"At least 7 symbols").max(32,"Maximum 32 symbols").required("Required field"),confirm:p.Z_().oneOf([p.iH("password"),null],"Passwords must match").required("Required field")}),j=p.Ry().shape({name:p.Z_().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490]+(?: [a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490]+)*$/,"Only cyrillic and latin letters are allowed").required("Required field"),city:p.Z_().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490]+(?:[-\s]?[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490]+)*,\s*[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490'\u2019\s-]+$/,'Should be "City, Region" separated by comma, only letters can be accepted').required("Required field "),phone:p.Z_().matches(/^\+380\d{9}$/,"Invalid phone number(+380111111111)").min(13).max(13).required("Required field")}),f=s(3037),y=s(6179),Z=s(1604),b=s(9001),w=s(3329),g=function(e){var r=(0,i.useState)(!1),s=(0,n.Z)(r,2),t=s[0],o=s[1],a=(0,i.useState)(!1),c=(0,n.Z)(a,2),l=c[0],u=c[1],m=(0,d.$G)().t;return console.log(e.isValid),(0,w.jsxs)(w.Fragment,{children:["fix/register",(0,w.jsx)(Z.ZP,{type:"email",name:"email",placeholder:"Email",errors:e.errors,touched:e.touched,required:!0}),(0,w.jsx)(Z.jj,{name:"email",component:"div"}),(0,w.jsxs)(y.ZC,{children:[(0,w.jsx)(Z.ZP,{id:"password",name:"password",placeholder:m("Password"),type:t?"text":"password",errors:e.errors,touched:e.touched,required:!0}),(0,w.jsx)(y.yS,{type:"button",onClick:function(){o(!t)},children:t?(0,w.jsx)(y.rr,{}):(0,w.jsx)(y.OF,{})}),(0,w.jsx)(Z.jj,{name:"password",component:"div"})]}),(0,w.jsxs)(y.ZC,{children:[(0,w.jsx)(Z.ZP,{id:"confirm",type:l?"text":"password",name:"confirm",placeholder:"Confirm Password",errors:e.errors,touched:e.touched,required:!0}),(0,w.jsx)(y.yS,{type:"button",onClick:function(){u(!l)},children:l?(0,w.jsx)(y.rr,{}):(0,w.jsx)(y.OF,{})}),(0,w.jsx)(Z.jj,{name:"confirm",component:"div"})]}),(0,w.jsx)(Z.zx,{type:"submit",onClick:e.next,disabled:e.isValid,children:"Next"}),(0,w.jsxs)(b.tw,{href:"https://petly-gd7x.onrender.com/api/users/google",children:[(0,w.jsx)(y.DW,{src:f.Z,alt:"Google"}),m("Signup_with_Google")]})]})},q=function(e){return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(Z.ZP,{type:"text",name:"name",placeholder:"Name",errors:e.errors,touched:e.touched,required:!0}),(0,w.jsx)(Z.jj,{name:"name",component:"div"}),(0,w.jsx)(Z.ZP,{type:"text",name:"city",placeholder:"City, region",errors:e.errors,touched:e.touched,required:!0}),(0,w.jsx)(Z.jj,{name:"city",component:"div"}),(0,w.jsx)(Z.ZP,{type:"tel",name:"phone",placeholder:"Mobile phone",errors:e.errors,touched:e.touched,required:!0}),(0,w.jsx)(Z.jj,{name:"phone",component:"div"}),(0,w.jsx)(Z.zx,{type:"submit",children:"Register"}),(0,w.jsx)(Z.zx,{type:"button",onClick:e.back,children:"Back"})]})},k=s(9887),v={email:"",password:"",confirm:"",name:"",city:"",phone:""},_=function(){var e=(0,i.useState)(0),r=(0,n.Z)(e,2),s=r[0],o=r[1],p=(0,d.$G)().t,f=(0,c.I0)(),y=function(){o(s+1)},b=function(){o(s-1)},_=function(){var e=(0,t.Z)(a().mark((function e(r,s){var t,n,o,i,c,l,d,m;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.email,n=r.password,o=r.name,i=r.city,c=r.phone,l=s.resetForm,e.next=4,f((0,u.IU)({email:t,password:n,name:o,city:i,phone:c}));case 4:if("auth/signup/fulfilled"!==(d=e.sent).type){e.next=11;break}return console.log("resultSignup",d),e.next=9,f((0,u.Ib)({email:t,password:n}));case 9:m=e.sent,console.log("resultLogIn",m);case 11:l();case 12:case"end":return e.stop()}}),e)})));return function(r,s){return e.apply(this,arguments)}}();return(0,w.jsx)(h.x,{as:"section",children:(0,w.jsx)(Z.lY,{children:(0,w.jsx)(m.W,{children:(0,w.jsxs)(Z.bh,{children:[(0,w.jsx)(Z.zD,{children:p("Registration")}),(0,w.jsx)(l.J9,{initialValues:v,onSubmit:_,validationSchema:0===s?x:j,children:function(e){var r=e.errors,t=e.touched,n=e.isValid;return(0,w.jsxs)(Z.gR,{autoComplete:"off",children:[0===s&&(0,w.jsx)(g,{next:y,errors:r,touched:t,isValid:!n}),1===s&&(0,w.jsx)(q,{back:b,errors:r,touched:t})]})}}),(0,w.jsx)(k.Z,{link:"/login",question:p("Is_account"),pageName:p("Log_in")})]})})})})}}}]);
//# sourceMappingURL=79.a9215a33.chunk.js.map