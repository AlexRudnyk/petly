"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[79],{6079:function(e,n,a){a.r(n),a.d(n,{default:function(){return I}});var t=a(5861),s=a(9439),r=a(4687),i=a.n(r),o=a(2791),l=a(9434),c=a(5705),m=a(9273),d=a(319),u=a(3682),p=a(6727),x=p.Ry().shape({email:p.Z_().matches(/^(?=.{1,63}$)(?=.{2,}@)[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"Error! Email must be in a format: aaaaa@aaa.aaa").min(12,"At least 12 symbols").max(50,"Maximum 50 symbols").required("Required field"),password:p.Z_().matches(/^\S+$/,"Space is not allowed").min(7,"At least 7 symbols").max(32,"Maximum 32 symbols").required("Required field"),confirm:p.Z_().oneOf([p.iH("password"),null],"Passwords must match").required("Required field")}),h=p.Ry().shape({name:p.Z_().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490]+(?: [a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490]+)*$/,"Only cyrillic and latin letters are allowed").required("Required field"),city:p.Z_().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490]+(?:[-\s]?[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490]+)*,\s*[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490'\u2019\s-]+$/,'Should be "City, Region" separated by comma, only letters can be accepted').required("Required field "),phone:p.Z_().matches(/^\+380\d{9}$/,"Invalid phone number(+380111111111)").min(13).max(13).required("Required field")}),j=a(3037),f=a(6179),y=a(1604),b=a(9001),w=a(3329),Z=function(e){var n=e.next,a=e.isSubmitting,t=(0,o.useState)(!1),r=(0,s.Z)(t,2),i=r[0],l=r[1],c=(0,o.useState)(!1),m=(0,s.Z)(c,2),d=m[0],u=m[1];return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(y.II,{type:"email",name:"email",placeholder:"Email"}),(0,w.jsx)(y.jj,{name:"email",component:"div"}),(0,w.jsxs)(f.ZC,{children:[(0,w.jsx)(y.II,{id:"password",name:"password",placeholder:"Password",type:i?"text":"password"}),(0,w.jsx)(f.yS,{type:"button",onClick:function(){l(!i)},children:i?(0,w.jsx)(f.rr,{}):(0,w.jsx)(f.OF,{})}),(0,w.jsx)(y.jj,{name:"password",component:"div"})]}),(0,w.jsxs)(f.ZC,{children:[(0,w.jsx)(y.II,{id:"confirm",type:d?"text":"password",name:"confirm",placeholder:"Confirm Password"}),(0,w.jsx)(f.yS,{type:"button",onClick:function(){u(!d)},children:d?(0,w.jsx)(f.rr,{}):(0,w.jsx)(f.OF,{})}),(0,w.jsx)(y.jj,{name:"confirm",component:"div"})]}),(0,w.jsx)(y.zx,{type:"submit",onClick:n,disabled:a,children:"Next"}),(0,w.jsxs)(b.t,{href:"https://petly-gd7x.onrender.com/api/users/google",children:[(0,w.jsx)(f.DW,{src:j.Z,alt:"Google"}),"Signup with Google"]})]})},g=function(e){var n=e.back;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(y.II,{type:"text",name:"name",placeholder:"Name"}),(0,w.jsx)(y.jj,{name:"name",component:"div"}),(0,w.jsx)(y.II,{type:"text",name:"city",placeholder:"City, region"}),(0,w.jsx)(y.jj,{name:"city",component:"div"}),(0,w.jsx)(y.II,{type:"tel",name:"phone",placeholder:"Mobile phone"}),(0,w.jsx)(y.jj,{name:"phone",component:"div"}),(0,w.jsx)(y.zx,{type:"submit",children:"Register"}),(0,w.jsx)(y.zx,{type:"button",onClick:n,children:"Back"})]})},v=a(9887),k={email:"",password:"",confirm:"",name:"",city:"",phone:""},I=function(){var e=(0,o.useState)(0),n=(0,s.Z)(e,2),a=n[0],r=n[1],p=(0,l.I0)(),j=function(){var e=(0,t.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(a+1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,t.Z)(i().mark((function e(n,a){var t,s,r,o,l,c,d,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.email,s=n.password,r=n.name,o=n.city,l=n.phone,c=a.resetForm,e.next=4,p((0,m.IU)({email:t,password:s,name:r,city:o,phone:l}));case 4:if("auth/signup/fulfilled"!==(d=e.sent).type){e.next=11;break}return console.log("resultSignup",d),e.next=9,p((0,m.Ib)({email:t,password:s}));case 9:u=e.sent,console.log("resultLogIn",u);case 11:c();case 12:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}();return(0,w.jsx)(u.x,{as:"section",children:(0,w.jsx)(y.lY,{children:(0,w.jsx)(d.W,{children:(0,w.jsxs)(y.bh,{children:[(0,w.jsx)(y.zD,{children:"Registration"}),(0,w.jsx)(c.J9,{initialValues:k,validationSchema:0===a?x:h,onSubmit:f,children:(0,w.jsxs)(y.gR,{autoComplete:"off",children:[0===a&&(0,w.jsx)(Z,{next:j}),1===a&&(0,w.jsx)(g,{back:function(){r(a-1)}})]})}),(0,w.jsx)(v.Z,{link:"/login",question:"Already have an account??",pageName:"login"})]})})})})}}}]);
//# sourceMappingURL=79.940b3ba8.chunk.js.map