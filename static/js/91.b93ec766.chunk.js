"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[91],{8437:function(e,r,t){t.r(r),t.d(r,{default:function(){return S}});var s=t(5861),n=t(9439),a=t(4687),o=t.n(a),i=t(2791),l=t(9434),c=t(5705),u=t(9230),d=t(5218),m=t(9273),p=t(319),h=t(3682),x=t(6727),j=x.Ry().shape({email:x.Z_().matches(/^(?=.{1,63}$)(?=.{2,}@)[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"Error! Email must be in a format: aaaaa@aaa.aaa").min(12,"At least 12 symbols").max(50,"Maximum 50 symbols").required("Required field"),password:x.Z_().matches(/^\S+$/,"Space is not allowed").min(7,"At least 7 symbols").max(32,"Maximum 32 symbols").required("Required field"),confirm:x.Z_().oneOf([x.iH("password"),null],"Passwords must match").required("Required field")}),y=x.Ry().shape({name:x.Z_().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490]+(?: [a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490]+)*$/,"Only cyrillic and latin letters are allowed").required("Required field"),city:x.Z_().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490]+(?:[-\s]?[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490]+)*,\s*[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490'\u2019\s-]+$/,'Should be "City, Region" separated by comma, only letters can be accepted').required("Required field ")}),f=t(3037),g=t(3997),v=t(1604),b=t(9001),Z=t(3329),w=function(e){var r=(0,i.useState)(!1),t=(0,n.Z)(r,2),s=t[0],a=t[1],o=(0,i.useState)(!1),l=(0,n.Z)(o,2),c=l[0],d=l[1],m=(0,u.$G)().t;return console.log(e.isValid),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(v.ZP,{type:"email",name:"email",placeholder:"Email",errors:e.errors,touched:e.touched,values:e.values.email,required:!0,autoFocus:!0}),(0,Z.jsx)(v.jj,{name:"email",component:"div"}),(0,Z.jsxs)(g.ZC,{children:[(0,Z.jsx)(v.ZP,{id:"password",name:"password",placeholder:m("Password"),type:s?"text":"password",errors:e.errors,touched:e.touched,values:e.values.password,required:!0}),(0,Z.jsx)(g.yS,{type:"button",onClick:function(){a(!s)},children:s?(0,Z.jsx)(g.rr,{}):(0,Z.jsx)(g.OF,{})}),(0,Z.jsx)(v.jj,{name:"password",component:"div"})]}),(0,Z.jsxs)(g.ZC,{children:[(0,Z.jsx)(v.ZP,{id:"confirm",type:c?"text":"password",name:"confirm",placeholder:"Confirm Password",errors:e.errors,touched:e.touched,values:e.values.confirm,required:!0}),(0,Z.jsx)(g.yS,{type:"button",onClick:function(){d(!c)},children:c?(0,Z.jsx)(g.rr,{}):(0,Z.jsx)(g.OF,{})}),(0,Z.jsx)(v.jj,{name:"confirm",component:"div"})]}),(0,Z.jsx)(v.zx,{type:"button",onClick:e.next,disabled:e.isValid,children:"Next"}),(0,Z.jsxs)(b.tw,{href:"https://petly-gd7x.onrender.com/api/users/google",children:[(0,Z.jsx)(g.DW,{src:f.Z,alt:"Google"}),m("Signup_with_Google")]})]})},C=t(5737),k=t.n(C),q=(t(8404),{}),_=function(e){return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(v.ZP,{type:"text",name:"name",placeholder:"Name",errors:e.errors,touched:e.touched,values:e.values.name,required:!0}),(0,Z.jsx)(v.jj,{name:"name",component:"div"}),(0,Z.jsx)(v.ZP,{type:"text",name:"city",placeholder:"City, region",errors:e.errors,touched:e.touched,values:e.values.city,required:!0}),(0,Z.jsx)(v.jj,{name:"city",component:"div"}),(0,Z.jsx)(k(),{name:"phone",type:"tel",className:q,onlyCountries:["ua"],country:"ua",countryCodeEditable:!1,errors:e.errors,value:e.values.phone,touched:e.touched,onChange:function(r){console.log("phone","+".concat(r)),e.setFieldValue("phone","+".concat(r))},onBlur:function(e){19!==e.currentTarget.value.length?e.currentTarget.style.border="1px solid #E2001A":e.currentTarget.style.border="1px solid #3CBC81"},onFocus:function(e){19!==e.currentTarget.value.length?e.currentTarget.style.border="1px solid #E2001A":e.currentTarget.style.border="1px solid #3CBC81"}}),(0,Z.jsx)(v.jj,{name:"phone",component:"div"}),(0,Z.jsx)(v.zx,{type:"submit",children:"Register"}),(0,Z.jsx)(v.zx,{type:"button",onClick:e.back,children:"Back"})]})},A=t(9887),z={email:"",password:"",confirm:"",name:"",city:"",phone:""},S=function(){var e=(0,i.useState)(0),r=(0,n.Z)(e,2),t=r[0],a=r[1],x=(0,u.$G)().t,f=(0,l.I0)(),g=function(){a(t+1)},b=function(){a(t-1)},C=function(){var e=(0,s.Z)(o().mark((function e(r,t){var s,n,a,i,l,c,u,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r.email,n=r.password,a=r.name,i=r.city,l=r.phone,c=t.resetForm,13===l.length){e.next=6;break}return console.log("INVALID"),d.ZP.error("Please enter your phone"),e.abrupt("return");case 6:return e.next=8,f((0,m.IU)({email:s,password:n,name:a,city:i,phone:l}));case 8:if("auth/signup/fulfilled"!==(u=e.sent).type){e.next=15;break}return console.log("resultSignup",u),e.next=13,f((0,m.Ib)({email:s,password:n}));case 13:p=e.sent,console.log("resultLogIn",p);case 15:c();case 16:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}();return(0,Z.jsx)(h.x,{as:"section",children:(0,Z.jsx)(v.lY,{children:(0,Z.jsx)(p.W,{children:(0,Z.jsxs)(v.bh,{children:[(0,Z.jsx)(v.zD,{children:x("Registration")}),(0,Z.jsx)(c.J9,{initialValues:z,onSubmit:C,validationSchema:0===t?j:y,children:function(e){var r=e.errors,s=e.touched,n=e.isValid,a=e.setFieldValue,o=e.values;return(0,Z.jsxs)(v.gR,{autoComplete:"off",children:[0===t&&(0,Z.jsx)(w,{next:g,errors:r,touched:s,isValid:!n,values:o}),1===t&&(0,Z.jsx)(_,{back:b,errors:r,touched:s,values:o,setFieldValue:a})]})}}),(0,Z.jsx)(A.Z,{link:"/login",question:x("Is_account"),pageName:x("Log_in")})]})})})})}}}]);
//# sourceMappingURL=91.b93ec766.chunk.js.map